diff -Nur imap-4.6.BETA/src/osdep/unix/Makefile imap-4.6.BETA.pld/src/osdep/unix/Makefile
--- imap-4.6.BETA/src/osdep/unix/Makefile	Sat May 29 05:15:29 1999
+++ imap-4.6.BETA.pld/src/osdep/unix/Makefile	Tue Jun  8 12:14:53 1999
@@ -55,11 +55,11 @@
 CHECKPW=std
 LOGINPW=std
 SIGTYPE=bsd
-ACTIVEFILE=/usr/lib/news/active
-SPOOLDIR=/usr/spool
-MAILSPOOL=$(SPOOLDIR)/mail
+ACTIVEFILE=/var/lib/news/active
+SPOOLDIR=/var/spool
+MAILSPOOL=/var/mail
 NEWSSPOOL=$(SPOOLDIR)/news
-RSHPATH=/usr/ucb/rsh
+RSHPATH=/usr/bin/rsh
 LOCKPGM=/etc/mlock
 
 
@@ -83,7 +83,7 @@
 # Commands possibly overriden by the individual port
 
 ARRC=ar rc
-CC=cc
+CC=gcc
 LN=ln -s
 RANLIB=ranlib
 
@@ -472,10 +472,13 @@
 	@echo If you want libc4 versions you must use sl4 instead!
 	$(BUILD) `cat EXTRASPECIALS` OS=$@ SIGTYPE=psx CHECKPW=psx \
 	 SPOOLDIR=/var/spool \
-	 ACTIVEFILE=/var/lib/news/active \
+	 MAILSPOOL=/var/mail \
+	 ACTIVEFILE=/var/lib/news/active \
 	 RSHPATH=/usr/bin/rsh \
-	 BASECFLAGS="-g -fno-omit-frame-pointer -O6 -DNFSKLUDGE" \
-	 BASELDFLAGS="-lcrypt"
+	 OPTIMIZE="-O2" \
+	 BASECFLAGS="$(OPTIMIZE) -DNFSKLUDGE" \
+	 BASELDFLAGS="$(BASELDFLAGS) -lpam -ldl -lcrypt"
+	 CHCKPW=pam LOGINPW=std
 
 sl4:	# Secure Linux using libc4
 	@echo You are building for libc4 versions of Secure Linux
diff -Nur imap-4.6.BETA/src/osdep/unix/os_lnx.c imap-4.6.BETA.pld/src/osdep/unix/os_lnx.c
--- imap-4.6.BETA/src/osdep/unix/os_lnx.c	Wed Dec  3 01:51:31 1997
+++ imap-4.6.BETA.pld/src/osdep/unix/os_lnx.c	Tue Jun  8 12:14:53 1999
@@ -58,3 +58,5 @@
 #include "tcp_unix.c"
 #include "gr_waitp.c"
 #include "tz_sv4.c"
+#undef flock 
+#include "flock.c" 
diff -Nur imap-4.6.BETA/src/osdep/unix/os_lnx.h imap-4.6.BETA.pld/src/osdep/unix/os_lnx.h
--- imap-4.6.BETA/src/osdep/unix/os_lnx.h	Wed Apr 30 01:16:20 1997
+++ imap-4.6.BETA.pld/src/osdep/unix/os_lnx.h	Tue Jun  8 12:14:53 1999
@@ -41,13 +41,13 @@
 #include <fcntl.h>
 #include <syslog.h>
 #include <sys/file.h>
-
+#include <ustat.h>
 
 /* Linux gets this wrong */
 
 #define setpgrp setpgid
 
-
+#include "lockfix.h"
 #include "env_unix.h"
 #include "fs.h"
 #include "ftl.h"
diff -Nur imap-4.6.BETA/src/osdep/unix/os_slx.h imap-4.6.BETA.pld/src/osdep/unix/os_slx.h
--- imap-4.6.BETA/src/osdep/unix/os_slx.h	Wed Apr 30 01:16:20 1997
+++ imap-4.6.BETA.pld/src/osdep/unix/os_slx.h	Tue Jun  8 12:14:53 1999
@@ -41,7 +41,7 @@
 #include <fcntl.h>
 #include <syslog.h>
 #include <sys/file.h>
-
+#include <ustat.h>
 
 /* Linux gets this wrong */
 
@@ -53,3 +53,4 @@
 #include "ftl.h"
 #include "nl.h"
 #include "tcp.h"
+#include "lockfix.h"
\ No newline at end of file
