diff -Nur imap-2001.BETA.SNAP-0106191041.orig/src/osdep/unix/Makefile imap-2001.BETA.SNAP-0106191041/src/osdep/unix/Makefile
--- imap-2001.BETA.SNAP-0106191041.orig/src/osdep/unix/Makefile	Sat Jun 16 01:01:28 2001
+++ imap-2001.BETA.SNAP-0106191041/src/osdep/unix/Makefile	Mon Jun 25 15:10:38 2001
@@ -28,10 +28,10 @@
 
 # Extended flags needed for SSL.  You may need to modify.
 
-SSLDIR=/usr/local/ssl
-SSLCERTS=$(SSLDIR)/certs
-SSLINCLUDE=$(SSLDIR)/include
-SSLLIB=$(SSLDIR)/lib
+SSLDIR=/usr/lib/openssl
+SSLCERTS=/var/lib/openssl/certs
+SSLINCLUDE=/usr/include
+SSLLIB=/usr/lib
 
 SSLCRYPTO=-lcrypto
 
@@ -609,12 +609,13 @@
 	@echo If you want libc5 versions you must use sl5 instead!
 	@echo If you want libc4 versions you must use sl4 instead!
 	$(BUILD) `$(CAT) SPECIALS` OS=$@ \
-	 SIGTYPE=psx CHECKPW=psx CRXTYPE=nfs \
+	 SIGTYPE=psx CHECKPW=pam CRXTYPE=nfs \
 	 SPOOLDIR=/var/spool \
+	 MAILSPOOL=/var/mail \
 	 ACTIVEFILE=/var/lib/news/active \
 	 RSHPATH=/usr/bin/rsh \
-	 BASECFLAGS="-g -fno-omit-frame-pointer -O6" \
-	 BASELDFLAGS="-lcrypt"
+	 BASECFLAGS="$(OPT)" \
+	 BASELDFLAGS="$(LDOPT) -lpam -ldl -lcrypt"
 
 sl4:	# Secure Linux using libc4
 	@echo You are building for libc4 versions of Secure Linux
diff -Nur imap-2001.BETA.SNAP-0106191041.orig/src/osdep/unix/os_lnx.h imap-2001.BETA.SNAP-0106191041/src/osdep/unix/os_lnx.h
--- imap-2001.BETA.SNAP-0106191041.orig/src/osdep/unix/os_lnx.h	Tue Feb 20 23:45:54 2001
+++ imap-2001.BETA.SNAP-0106191041/src/osdep/unix/os_lnx.h	Mon Jun 25 15:12:15 2001
@@ -27,7 +27,7 @@
 #include <fcntl.h>
 #include <syslog.h>
 #include <sys/file.h>
-
+#include <ustat.h>
 
 /* Linux gets this wrong */
 
diff -Nur imap-2001.BETA.SNAP-0106191041.orig/src/osdep/unix/os_slx.h imap-2001.BETA.SNAP-0106191041/src/osdep/unix/os_slx.h
--- imap-2001.BETA.SNAP-0106191041.orig/src/osdep/unix/os_slx.h	Tue Feb 20 23:45:54 2001
+++ imap-2001.BETA.SNAP-0106191041/src/osdep/unix/os_slx.h	Mon Jun 25 15:12:45 2001
@@ -27,7 +27,7 @@
 #include <fcntl.h>
 #include <syslog.h>
 #include <sys/file.h>
-
+#include <ustat.h>
 
 /* Linux gets this wrong */
 
